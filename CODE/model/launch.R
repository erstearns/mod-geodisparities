##############################################
# Code author: Michael Kramer, Kevin Weiss, Erin Stearns
# Code objective: Model launch script
# Date: 5.7.2019
#############################################

rm(list = ls())

######################################################################################################
# ---------------------------------- TO-DO ITEMS --------------------------------------------------- #
######################################################################################################
# Set environment variables for:
#   mod_repo: this is the code repo/location of your code pertaining to this model
#   mod_data: this is the file path to where you are storing the model data


######################################################################################################
# ---------------------------------- Set up -------------------------------------------------------- #
######################################################################################################
# load packages
x <- c("data.table", "tidyverse", "sf", "sp","spdep", "tmap", "INLA", "magrittr")
lapply(x, require, character.only = TRUE)

# set code repo
repo <- Sys.getenv('mod_repo')
# set data repo
data_repo <- Sys.getenv('mod_data')

#setting working directory
setwd(repo)
message(paste0("You have specified ", data_repo, " as the location of your data."))

# load central functions
source('CODE/model/prep_functions.R')

# load config
source("CODE/model/load_config.R")

#source 



######################################################################################################
# ---------------------------------- Data load ----------------------------------------------------- #
######################################################################################################
source("CODE/load_data.R")

######################################################################################################
# ---------------------------------- Run models ---------------------------------------------------- #
######################################################################################################

######################################################################################################
# ---------------------------------- Analyze outputs ----------------------------------------------- #
######################################################################################################
#visualizations

